<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<LINK REL="stylesheet" TYPE="text/css" HREF="../../css/content.css" TITLE="Styles">
<SCRIPT LANGUAGE="JavaScript">
<!--
var loops = 10;
function GetLoio() {
  return "46a4ff1a2cd752b7e10000000a155369";
}
//-->
</SCRIPT>
<head>
<META NAME="Application" CONTENT="">
<META NAME="Release" CONTENT="717">
<META NAME="IndustryRelease" CONTENT="">
<META NAME="Language" CONTENT="EN">
<meta name="PHIO_GUID" content="C5BDC43DAC1BCF51E10000000A114084">
<meta name="LOIO_GUID" content="46A4FF1A2CD752B7E10000000A155369">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>SELECT Clause </title>
<style type="text/css">
<!--/* Font Definitions */@font-face {font-family:Wingdings; panose-1:5 0 0 0 0 0 0 0 0 0; }/* Style Definitions */p.MsoNormal, li.MsoNormal, div.MsoNormal { margin-top:3.0pt; margin-right:0in; margin-bottom:3.0pt; margin-left:0in; font-size:10.0pt; font-family:Arial; }h2 { margin-top:12.0pt; margin-right:0in; margin-bottom:3.0pt; margin-left:0in; page-break-after:avoid; font-size:16.0pt; font-family:Arial; color:navy; }h3 { margin-top:6.0pt; margin-right:0in; margin-bottom:3.0pt; margin-left:0in; page-break-after:avoid; font-size:14.0pt; font-family:Arial; color:navy; }a:link, span.MsoHyperlink {color:blue; text-decoration:underline; text-underline:single;}a:visited {color:purple; text-decoration:underline; text-underline:single;}span.Object { font-family:Arial; font-style:italic; }div.Section1 {page:Section1;}/* List Definitions */@list l0 { }-->  
</style>
</head>
<body lang="EN-US" link="blue" vlink="purple" style='tab-interval:.25in'>
 <div class="Section1">
<h2><span style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'></span>SELECT Clause</span></h2>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>The <span class=
"Object">SELECT</span> clause determines what should be extracted from the
heap dump. To display objects and to be able to browse the outgoing
references, use the <span class="Object">*</span> symbol.</span></p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style=
'background:#D9D9D9;mso-shading:windowtext;mso-pattern:gray-15 auto; border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt; mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh: .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'><tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
<td width="619" valign="top" style=
'width:6.45in;border:solid windowtext 1.0pt; mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'><p class="MsoNormal" style=
'margin:0in;margin-bottom:.0001pt;mso-layout-grid-align: none;text-autospace:none'><span style=
'mso-bidi-font-size:10.0pt;font-family: "Courier New";mso-fareast-font-family:"MS Mincho";mso-ansi-language:EN-US'>SELECT * FROM java.lang.String</span></p>
</td>
</tr>
</table>

<h3><span lang="DE">Select Specific Columns</span></h3>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>Alternatively, you
can select the fields to be displayed:</span></p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style=
'background:#D9D9D9;mso-shading:windowtext;mso-pattern:gray-15 auto; border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt; mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh: .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'><tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
<td width="619" valign="top" style=
'width:6.45in;border:solid windowtext 1.0pt; mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'><p class="MsoNormal"><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New"; mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language:EN-US'>SELECT toString(s), s.count, s.value FROM java.lang.String s</span></p>
</td>
</tr>
</table>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>The resulting table
knows about the underlying object. So you can use the context menu to open
further views on the object at hand.</span></p>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>As the original
objects in the heap dump are inactive and you cannot access their attributes
and methods, the Memory Analyzer creates parallel objects that represent the
original objects such as <span class="Object">IObject</span>. You can access
the Java attributes and methods of these parallel objects using the @ symbol.
There are also a number of built-in functions available to extract common
information:</span></p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style=
'background:#D9D9D9;mso-shading:windowtext;mso-pattern:gray-15 auto; border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt; mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh: .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'><tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
<td width="619" valign="top" style=
'width:6.45in;border:solid windowtext 1.0pt; mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'><p class="MsoNormal" style=
'margin:0in;margin-bottom:.0001pt;mso-layout-grid-align: none;text-autospace:none'><span style=
'mso-bidi-font-size:10.0pt;font-family: "Courier New";mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language: EN-US'>SELECT toString(s),</span></p>

<p class="MsoNormal" style=
'margin:0in;margin-bottom:.0001pt;mso-layout-grid-align: none;text-autospace:none'><span style=
'mso-bidi-font-size:10.0pt;font-family: "Courier New";mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language: EN-US'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>s.</span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:#646464;mso-ansi-language:EN-US'>@</span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:black;mso-ansi-language:EN-US'>usedHeapSize,</span></p>

<p class="MsoNormal" style=
'margin:0in;margin-bottom:.0001pt;mso-layout-grid-align: none;text-autospace:none'><span style=
'mso-bidi-font-size:10.0pt;font-family: "Courier New";mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language: EN-US'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>s.</span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:#646464;mso-ansi-language:EN-US'>@</span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:black;mso-ansi-language:EN-US'>retainedHeapSize</span></p>

<p class="MsoNormal" style=
'margin:0in;margin-bottom:.0001pt;mso-layout-grid-align: none;text-autospace:none'><span style=
'mso-bidi-font-size:10.0pt;font-family: "Courier New";mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language: EN-US'>FROM java.lang.String s</span></p>
</td>
</tr>
</table>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>For more
information about details on commonly available attributes, see</span><span
class="MsoHyperlink"><span lang="DE" style='color:blue'><A HREF="../../46/b1a7ecde5c0763e10000000a1553f6/content.htm"><span lang="EN-US"
style='mso-ansi-language:EN-US'>Property
Accessors</span></a></span></span><span class="MsoHyperlink"><span style=
'color:blue;mso-ansi-language:EN-US'>.</span></span></p>

<h3><span style='mso-ansi-language:EN-US'>Provide Column Names</span></h3>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>Use the <span
class="Object">AS </span>keyword to name the columns.</span></p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style=
'background:#D9D9D9;mso-shading:windowtext;mso-pattern:gray-15 auto; border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt; mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh: .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'><tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
<td width="619" valign="top" style=
'width:6.45in;border:solid windowtext 1.0pt; mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'><p class="MsoNormal" style=
'margin:0in;margin-bottom:.0001pt;mso-layout-grid-align: none;text-autospace:none'><span style=
'mso-bidi-font-size:10.0pt;font-family: "Courier New";mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language: EN-US'>SELECT toString(s) AS Value,</span></p>

<p class="MsoNormal" style=
'margin:0in;margin-bottom:.0001pt;mso-layout-grid-align: none;text-autospace:none'><span style=
'mso-bidi-font-size:10.0pt;font-family: "Courier New";mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language: EN-US'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>s.</span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:#646464;mso-ansi-language:EN-US'>@</span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:black;mso-ansi-language:EN-US'>usedHeapSize AS </span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:#2A00FF;mso-ansi-language:EN-US'>"Retained Size"</span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:black;mso-ansi-language:EN-US'>,</span></p>

<p class="MsoNormal" style=
'margin:0in;margin-bottom:.0001pt;mso-layout-grid-align: none;text-autospace:none'><span style=
'mso-bidi-font-size:10.0pt;font-family: "Courier New";mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language: EN-US'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>s.</span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:#646464;mso-ansi-language:EN-US'>@</span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:black;mso-ansi-language:EN-US'>retainedHeapSize AS </span><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-fareast-font-family: "MS Mincho";color:#2A00FF;mso-ansi-language:EN-US'>"Shallow Size"</span></p>

<p class="MsoNormal" style=
'margin:0in;margin-bottom:.0001pt;mso-layout-grid-align: none;text-autospace:none'><span style=
'mso-bidi-font-size:10.0pt;font-family: "Courier New";mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language: EN-US'>FROM java.lang.String s</span></p>
</td>
</tr>
</table>

<h3><span style='mso-ansi-language:EN-US'>Calculate the Retained
Set</span></h3>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>Use the <span
class="Object">AS RETAINED SET</span> keyword to get the set of objects
retained by your selection:</span></p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style=
'background:#D9D9D9;mso-shading:windowtext;mso-pattern:gray-15 auto; border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt; mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh: .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'><tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
<td width="619" valign="top" style=
'width:6.45in;border:solid windowtext 1.0pt; mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'><p class="MsoNormal"><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New"; mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language:EN-US'>SELECT AS RETAINED SET * FROM java.lang.String</span></p>
</td>
</tr>
</table>

<h3><span style='mso-ansi-language:EN-US'>Flatten Select Items into an Object
List</span></h3>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>Use the<span class=
"Object"> OBJECTS</span> keyword to interpret the items in the <span class=
"Object">SELECT</span> clause as objects:</span></p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style=
'background:#D9D9D9;mso-shading:windowtext;mso-pattern:gray-15 auto; border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt; mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh: .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'><tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
<td width="619" valign="top" style=
'width:6.45in;border:solid windowtext 1.0pt; mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'><p class="MsoNormal"><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New"; mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language:EN-US'>SELECT OBJECTS dominators(s) FROM java.lang.String s</span></p>
</td>
</tr>
</table>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>The function <span
class="Object">dominators()</span> returns an array of objects. Therefore, the
query returns a list of object lists such as arrays. By using the keyword
<span class="Object">OBJECTS</span>, the OQL is forced to flatten this into a
single list of objects.</span></p>

<h3><span style='mso-ansi-language:EN-US'>Select Unique Objects</span></h3>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>Use the <span
class="Object">DISTINCT</span> keyword only to select unique
objects:</span></p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style=
'background:#D9D9D9;mso-shading:windowtext;mso-pattern:gray-15 auto; border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt; mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh: .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'><tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
<td width="619" valign="top" style=
'width:6.45in;border:solid windowtext 1.0pt; mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'><p class="MsoNormal"><span style=
'mso-bidi-font-size:10.0pt;font-family:"Courier New"; mso-fareast-font-family:"MS Mincho";color:black;mso-ansi-language:EN-US'>SELECT DISTINCT classof(s) FROM java.lang.String s</span></p>
</td>
</tr>
</table>

<p class="MsoNormal"><span style='mso-ansi-language:EN-US'>The function <span
class="Object">classof</span> returns the class object. Of course, all strings
have the same class. Without the <span class="Object">DISTINCT</span> keyword,
the query would result in a list with as many rows with the same class as
there are strings.</span></p>
</div>
</body>
</html>


