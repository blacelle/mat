<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="task" name="DC.Type" />
<meta name="DC.Title" content="Acquiring Heap Dumps" />
<meta content="XHTML" name="DC.Format" />
<meta content="acquiringheapdump" name="DC.Identifier" />
<meta content="en-us" name="DC.Language" />
<link href="..\commonltr.css" type="text/css" rel="stylesheet" />
<title>Acquiring Heap Dumps</title>
<script language="JavaScript" src="PLUGINS_ROOT/org.eclipse.help/livehelp.js"> </script></head>
<body id="acquiringheapdump"><a name="acquiringheapdump"><!-- --></a>


	<h1 class="topictitle1">Acquiring Heap Dumps</h1>

	
	<div>
		<div class="section">
			<p>
				You can get a heap dump on an out of memory error for
				Sun JVM (1.4.2_12 or higher and 1.5.0_07 or higher),
				HP-UX JVM (1.4.2_11 or higher) and SAP JVM (since
				1.5.0) by setting the following JVM parameter:
			</p>

			<div class="p">
				<pre class="codeblock">-XX:+HeapDumpOnOutOfMemoryError</pre>

			</div>

			<p>The heap dump is written to the work directory.</p>

			<p>
				To get heap dump on demand use the following JVM
				parameter:
			</p>

			<div class="p">
				<pre class="codeblock">-XX:+HeapDumpOnCtrlBreak</pre>

			</div>

			<p>
				Alternatively, other tools can be used to acquire a heap
				dump:
			</p>

			<br /><ul>
				<li>
					<span class="cmdname">jmap -dump:format=b,file=&lt;filename.hprof&gt; &lt;pid&gt;</span>
				</li>

				<li>JConsole</li>

				<li>Memory Analyzer (only on SAP JVM)</li>

			</ul>

			<img src="../mimes/m4900a8d.png" alt="table of vm vendors and vm parameters to be used" />
		</div>

	</div>

<div />

</body>
</html>